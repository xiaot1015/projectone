<script type="text/javascript" charset="utf-8" src="__PUBLIC__/uediter/ueditor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="__PUBLIC__/uediter/ueditor.all.min.js"></script>
<!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
<!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
<script type="text/javascript" charset="utf-8" src="__PUBLIC__/uediter/lang/zh-cn/zh-cn.js"></script>
<script src="__PUBLIC__/admin/My97DatePicker/WdatePicker.js"></script>
<style ="text/css">
.area{
    margin-left:100px;
}
</style>
<script>
    UE.getEditor('introduction');
    UE.getEditor('editorValue');
    UE.getEditor('red_task');
    UE.getEditor('blue_task');
</script>
<div id="right">
    <div id="course">
        <div id="tit">比赛流程引导：</div>
        <ul id="course_ul">
            <li class="li11">基本信息</li>
            <li class="li20">选择人员发布</li>
            <!-- <li class="li40">应用发布</li> -->
        </ul>
    </div>
    <form method="post" name="form" id="form" action="{:U('Fightcompaign/edit')}">
        <div id="notice1">
            <div>
                <span>对抗比赛名称：</span>
                <input type="text" name="competition_name" id="competition_name" value="{$info.competition_name}">
            </div>
            <div>
                <span style="	margin-right:30px;">比赛时间：</span>
                <input class="Wdate" style="margin-top:30px;left:20px;width:200px;" type="text" id="starttime" name="starttime" value="{$info.starttime}" onfocus="WdatePicker({minDate:'%y-%M-%d'})">
                至
                <input class="Wdate" style="margin-top:30px;left:20px;width:200px;" type="text" id="endtime" name="endtime" value="{$info.endtime}" onfocus="WdatePicker({minDate:'%y-%M-%d'})">
            </div>
            <div>
                <span >比赛简介：</span>
            </div>
            <div class="area">
                <textarea name="introduction" id="introduction">{$info.competition_desc}</textarea>
            </div>
            <div>
                <span >比赛公告：</span>
            </div>
            <div class="area">
                <textarea name="editorValue" id="editorValue">{$info.competition_note}</textarea>
            </div>
            <div>
                <span >红队任务：</span>
            </div>
            <div class="area">
                <textarea name="red_task" id="red_task">{$info.task_red}</textarea>
            </div>
            <div>
                <span >蓝队任务：</span>
            </div>
            <div class="area">
                <textarea name="blue_task" id="blue_task">{$info.task_blue}</textarea>
            </div>
        </div>
        <input name="type" type="hidden" value="{$type}" >
        <input name="id" type="hidden" value="{$info.competition_id}" >
        <div class="tijiawanigahnegg" style="margin-left:450px;margin-top:65px;">
               <a href="javascript:sub()">下一步</a>   
       </div>
       <div class="clear"></div>
    </form>
</div>
<script type="text/javascript">
    function sub(){
       var competition_name = $("#competition_name").val();
       var starttime = $("#starttime").val();
       var endtime = $("#endtime").val();
        var introduction = UE.getEditor('introduction');
        var editorValue = UE.getEditor('editorValue');
        var red_task =  UE.getEditor('red_task');
        var blue_task =  UE.getEditor('blue_task');
       if(competition_name == ''){
            return alert("比赛名称不能为空");
       }
       if(starttime=='' || endtime == ''){
            return alert("比赛时间不能为空");
       }
       if(starttime >= endtime){
           return alert("比赛结束时间不能大于开始时间");
       }
       if(!blue_task.hasContents()){
          alert("蓝队任务不能为空");
          return false;
       }
       if(!red_task.hasContents()){
          alert("红队任务不能为空");
          return false;
       }
       if(!introduction.hasContents()){
          alert("简介不能为空");
          return false;
       }       
       if(!editorValue.hasContents()){
          alert("公告不能为空");
          return false;
       }
       $("#form").submit();

    }
</script>
